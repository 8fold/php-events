function EFEventsModals(e='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'){this.modal,this.focusables=e}EFEventsModals.prototype.init=function(e,t){var n=new Object;n.htmlId=t,n.button=e,n.modal=document.getElementById(t),n.container=n.modal.parentNode,n.close=Array.from(n.modal.getElementsByTagName("button")).pop(),n.modal.classList.add("expanded"),n.container.setAttribute("aria-hidden",!1),n.button.setAttribute("aria-expanded",!0),n.close.focus();var o=n.modal.querySelectorAll(this.focusables);n.focusables=Array.prototype.slice.call(o),document.addEventListener("keydown",this.keyup,!0),this.modal=n},EFEventsModals.prototype.click=function(){EFEventsModals.modals.forEach(function(e){event.target===e.modal&&event.preventDefault()})},EFEventsModals.prototype.keyup=function(){let e=9,t=27;if(event.keyCode==t)EFEventsModals.closeAll("escaped");else if(event.keyCode===e){let e=EFEventsModals.modal.focusables,t=e[0],n=e[e.length-1],o=t===n,a=!event.shiftKey&&n===document.activeElement,l=event.shiftKey&&t===document.activeElement;o?event.preventDefault():l?(n.focus(),event.preventDefault()):a&&(t.focus(),event.preventDefault())}},EFEventsModals.prototype.closeAll=function(e=null){let t=EFEventsModals.modal;if(null!==t){let n=null===e&&t.container===event.target,o=null===e&&(t.close===event.target||t.close.contains(event.target)),a="escaped"===e;null!==t&&(n||o||a)&&(t.container.setAttribute("aria-hidden",!0),t.button.setAttribute("aria-expanded",!1),t.modal.classList.remove("expanded"),t.button.focus(),document.removeEventListener("keydown",this.keyup,!0),EFEventsModals.modal=null)}},EFEventsModals=new EFEventsModals;